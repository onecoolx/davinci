# HTML5 runtime
# 
# Copyright (C) 2024 Zhang Ji Peng
# Contact: onecoolx@gmail.com

include(ExternalProject)

set(HARFBUZZ_NAME "harfbuzz")
set(HARFBUZZ_VERSION "8.5.0")
set(HARFBUZZ_PACKAGE "${PROJECT_ROOT}/packages/${HARFBUZZ_NAME}-${HARFBUZZ_VERSION}.tar.gz")
set(HARFBUZZ_HASH "7ad8e4e23ce776efb6a322f653978b3eb763128fd56a90252775edb9fd327956")

ExternalProject_Add(
  ${HARFBUZZ_NAME}
  PREFIX "${PROJECT_OUT}/${HARFBUZZ_NAME}"
  URL "${HARFBUZZ_PACKAGE}"
  URL_HASH SHA256=${HARFBUZZ_HASH}
  BUILD_IN_SOURCE
  CMAKE_ARGS -DHB_HAVE_FREETYPE=ON -DHB_HAVE_ICU=ON -DHB_HAVE_UNISCRIBE=ON -DHB_HAVE_DIRECTWRITE=ON -DCMAKE_INSTALL_PREFIX=${PROJECT_OUT}
)
include_directories(${PROJECT_OUT}/include)
link_directories(${PROJECT_OUT}/lib)
