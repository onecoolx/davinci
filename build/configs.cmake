# HTML5 runtime
# 
# Copyright (C) 2024 Zhang Ji Peng
# Contact: onecoolx@gmail.com

if (WIN32)
    set(CMAKE_C_FLAGS_DEBUG  "${CMAKE_C_FLAGS_DEBUG} /D_DEBUG /DBUILDING_DAVINCI__ /W3 /WX /Gm- /Gd /Zc:wchar_t- /MP")
    set(CMAKE_CXX_FLAGS_DEBUG  "${CMAKE_CXX_FLAGS_DEBUG} /D_DEBUG /DBUILDING_DAVINCI__ /W3 /WX /Gm- /Gd /Zc:wchar_t- /MP")
    set(CMAKE_C_FLAGS_RELEASE "${CMAKE_C_FLAGS_RELEASE} /DBUILDING_DAVINCI__ /W3 /WX /Ot /GF /Gm- /Gy /GL /Zc:wchar_t- /MP")
    set(CMAKE_CXX_FLAGS_RELEASE "${CMAKE_CXX_FLAGS_RELEASE} /DBUILDING_DAVINCI__ /W3 /WX /Ot /GF /Gm- /Gy /GL /Zc:wchar_t- /MP")
elseif (UNIX AND NOT APPLE)
    set(CMAKE_C_FLAGS_DEBUG "-D_DEBUG -DBUILDING_DAVINCI__ -O0 -Wall -g -Wno-unused-result")
    set(CMAKE_CXX_FLAGS_DEBUG "-D_DEBUG -DBUILDING_DAVINCI__ -O0 -Wall -g -std=c++11 -fno-exceptions")
    set(CMAKE_C_FLAGS_RELEASE "-DNDEBUG -DBUILDING_DAVINCI__ -O3 -Wall -Wno-unused-result")
    set(CMAKE_CXX_FLAGS_RELEASE "-DNDEBUG -DBUILDING_DAVINCI__ -O3 -Wall -std=c++11 -fno-exceptions")
elseif (APPLE)
    set(CMAKE_C_FLAGS_DEBUG "${CMAKE_C_FLAGS_DEBUG} -D_DEBUG -DBUILDING_DAVINCI__")
    set(CMAKE_CXX_FLAGS_DEBUG "${CMAKE_CXX_FLAGS_DEBUG} -D_DEBUG -DBUILDING_DAVINCI__")
    set(CMAKE_C_FLAGS_RELEASE "${CMAKE_C_FLAGS_RELEASE} -DNDEBUG -DBUILDING_DAVINCI__")
    set(CMAKE_CXX_FLAGS_RELEASE "${CMAKE_CXX_FLAGS_RELEASE} -DNDEBUG -DBUILDING_DAVINCI__")
    set(CMAKE_XCODE_ATTRIBUTE_CLANG_ENABLE_OBJC_WEAK "YES")
    set(CMAKE_XCODE_ATTRIBUTE_GCC_ENABLE_CPP_EXCEPTIONS "NO")
    set(CMAKE_XCODE_ATTRIBUTE_GCC_ENABLE_CPP_RTTI "YES")
endif()
